# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
4. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
5. [–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π](#—Å–∏—Å—Ç–µ–º–∞-—Ä–æ–ª–µ–π)
6. [–ú–∞—Ä—à—Ä—É—Ç—ã](#–º–∞—Ä—à—Ä—É—Ç—ã)
7. [–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª](#—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª)
8. [–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞](#–º–µ—Ç—Ä–∏–∫–∏-–ø—Ä–æ–¥—É–∫—Ç–∞)
9. [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
10. [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)

---

## –û–±–∑–æ—Ä

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –¥—Ä—É–≥–∏—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å—Ç–∞—Ä—Ç–∞–ø–∞. –û–Ω–∞ –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç—å—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–î—ç—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏** ‚Äî –æ–±–∑–æ—Ä –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π –ø—Ä–æ–¥—É–∫—Ç–∞
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä, –ø–æ–∏—Å–∫, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∞–º–∏** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ü–µ–Ω–æ–∫ (—á–µ–∫–∞–ø–æ–≤) —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è–º–∏** ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏** ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä –ø–ª–∞—Ç–µ–∂–µ–π, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã—Ä—É—á–∫–∏
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–∞–º–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –∏ –ø–∞–∫–µ—Ç–∞–º–∏
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏** ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∏—Ö –¥–∞–Ω–Ω—ã—Ö

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ò–∑–æ–ª—è—Ü–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞:

- **–û—Ç–¥–µ–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã**: `/admin/*` (–Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–º–∏)
- **–û—Ç–¥–µ–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: `AdminAuthContext` (–Ω–µ —Å–≤—è–∑–∞–Ω —Å `AuthContext`)
- **–û—Ç–¥–µ–ª—å–Ω—ã–π layout**: `AdminLayout` —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- **–û—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞**: `AdminProtectedRoute` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **React 18** + **TypeScript**
- **React Router** –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- **TanStack Query** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- **Supabase** –¥–ª—è –ë–î –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **shadcn/ui** –¥–ª—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **date-fns** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ Supabase SQL Editor –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

```sql
-- 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ: supabase/migrations/026_add_user_roles.sql

-- 2. RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ: supabase/migrations/027_admin_rls_policies.sql
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π —Å–æ–∑–¥–∞–π—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞. **–ü–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL**, —Ç–∞–∫ –∫–∞–∫ –¥–ª—è –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —É–∂–µ –Ω—É–∂–Ω–∞ —Ä–æ–ª—å –∞–¥–º–∏–Ω–∞.

**–í–∞—Ä–∏–∞–Ω—Ç A: –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω**

```sql
-- –ó–∞–º–µ–Ω–∏—Ç–µ email –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π email
UPDATE public.users 
SET role = 'admin' 
WHERE email = 'your-admin@email.com';
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**

1. –í Supabase Dashboard: **Authentication** ‚Üí **Users** ‚Üí **Add User**
2. –í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å, –≤–∫–ª—é—á–∏—Ç–µ **Auto Confirm User**
3. –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ UPDATE –≤—ã—à–µ

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** —Å–º. `CREATE_FIRST_ADMIN.md`

### 3. –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/admin/login`
3. –í–æ–π–¥–∏—Ç–µ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é `admin`, `super_admin` –∏–ª–∏ `support`
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ `/admin` (–¥—ç—à–±–æ—Ä–¥)

### 4. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ –∏ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```env
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_anon_key
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ       ‚îú‚îÄ‚îÄ AdminLogin.tsx              # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îÇ       ‚îú‚îÄ‚îÄ AdminDashboard.tsx          # –î—ç—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ UsersManagement.tsx         # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ AssessmentsManagement.tsx  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ AppointmentsManagement.tsx # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ PaymentsManagement.tsx    # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ ContentManagement.tsx      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
‚îÇ       ‚îî‚îÄ‚îÄ SupportTools.tsx           # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ       ‚îú‚îÄ‚îÄ AdminLayout.tsx            # –û—Å–Ω–æ–≤–Ω–æ–π layout
‚îÇ       ‚îú‚îÄ‚îÄ AdminHeader.tsx            # –®–∞–ø–∫–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
‚îÇ       ‚îú‚îÄ‚îÄ AdminSidebar.tsx           # –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ AdminProtectedRoute.tsx    # –ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ contexts/
‚îÇ   ‚îî‚îÄ‚îÄ AdminAuthContext.tsx           # –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∞–¥–º–∏–Ω–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ       ‚îú‚îÄ‚îÄ useAdminMetrics.ts         # –•—É–∫ –¥–ª—è –º–µ—Ç—Ä–∏–∫
‚îÇ       ‚îú‚îÄ‚îÄ useAdminUsers.ts           # –•—É–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ       ‚îú‚îÄ‚îÄ useAdminAssessments.ts     # –•—É–∫ –¥–ª—è –æ—Ü–µ–Ω–æ–∫
‚îÇ       ‚îú‚îÄ‚îÄ useAdminAppointments.ts    # –•—É–∫ –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
‚îÇ       ‚îî‚îÄ‚îÄ useAdminPayments.ts        # –•—É–∫ –¥–ª—è –ø–ª–∞—Ç–µ–∂–µ–π
‚îÇ
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ admin/
        ‚îî‚îÄ‚îÄ metrics.ts                 # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –º–µ—Ç—Ä–∏–∫

supabase/
‚îî‚îÄ‚îÄ migrations/
    ‚îú‚îÄ‚îÄ 026_add_user_roles.sql        # –ú–∏–≥—Ä–∞—Ü–∏—è —Ä–æ–ª–µ–π
    ‚îî‚îÄ‚îÄ 027_admin_rls_policies.sql    # RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
```

---

## –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π

### –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–æ–ª–∏

1. **`user`** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚Äî –æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
2. **`support`** ‚Äî —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
3. **`admin`** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
4. **`super_admin`** ‚Äî —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø + –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –¥—Ä—É–≥–∏—Ö –∞–¥–º–∏–Ω–æ–≤

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–µ–π

–†–æ–ª–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö:

1. **–ü—Ä–∏ –≤—Ö–æ–¥–µ** (`AdminAuthContext`):
   - –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ï—Å–ª–∏ —Ä–æ–ª—å –Ω–µ `support`, `admin` –∏–ª–∏ `super_admin`, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã—Ö–æ–¥–∏—Ç

2. **–ü—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –º–∞—Ä—à—Ä—É—Ç–∞–º** (`AdminProtectedRoute`):
   - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ —Ä–æ–ª—å
   - –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –∏–ª–∏ —Ä–æ–ª—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞, —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/admin/login`

3. **–í RLS –ø–æ–ª–∏—Ç–∏–∫–∞—Ö –ë–î**:
   - –§—É–Ω–∫—Ü–∏—è `is_admin()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–æ–ª—å –≤ –ë–î
   - –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç –≤–∏–¥–µ—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π

–†–æ–ª–∏ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

1. **–ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å**: `/admin/users` ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å
2. **–ù–∞–ø—Ä—è–º—É—é –≤ –ë–î**:
   ```sql
   UPDATE public.users 
   SET role = 'admin' 
   WHERE email = 'user@example.com';
   ```

---

## –ú–∞—Ä—à—Ä—É—Ç—ã

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã

- `/admin/login` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å

### –ó–∞—â–∏—â–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

–í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–∏–∂–µ –∑–∞—â–∏—â–µ–Ω—ã `AdminProtectedRoute`:

- `/admin` ‚Äî –¥—ç—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
- `/admin/users` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `/admin/assessments` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∞–º–∏
- `/admin/appointments` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è–º–∏
- `/admin/payments` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏
- `/admin/content` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- `/admin/support` ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

### –†–µ–¥–∏—Ä–µ–∫—Ç—ã

- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É –º–∞—Ä—à—Ä—É—Ç—É –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Üí `/admin/login`
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ ‚Üí `/admin`
- –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ ‚Üí `/admin/login`

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. –î—ç—à–±–æ—Ä–¥ (`/admin`)

**–ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ù–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
- –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
- –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥
- –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Å–µ–º—å–∏

**–ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–æ–∫:**
- –í—Å–µ–≥–æ –æ—Ü–µ–Ω–æ–∫
- –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏
- –ö–æ–Ω–≤–µ—Ä—Å–∏—è (–Ω–∞—á–∞—Ç–æ ‚Üí –∑–∞–≤–µ—Ä—à–µ–Ω–æ)
- –ë—Ä–æ—à–µ–Ω–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏
- –û–ø–ª–∞—á–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

**–ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π:**
- –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
- –û—Ç–º–µ–Ω–µ–Ω–Ω—ã–µ
- No-show
- –í –ø—Ä–æ—Ü–µ—Å—Å–µ

**–ú–µ—Ç—Ä–∏–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π:**
- –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞
- –í—ã—Ä—É—á–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
- –£—Å–ø–µ—à–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏
- –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –ü—Ä–æ–¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã

**–§–∏–ª—å—Ç—Ä—ã:**
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å
- –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü
- –í—Å–µ –≤—Ä–µ–º—è

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (`/admin/users`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ
- –ü–æ–∏—Å–∫ –ø–æ email, —Ç–µ–ª–µ—Ñ–æ–Ω—É –∏–ª–∏ ID
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
  - Email
  - –¢–µ–ª–µ—Ñ–æ–Ω
  - –†–µ–≥–∏–æ–Ω
  - –†–æ–ª—å
  - –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∞–º–∏ (`/admin/assessments`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ—Ü–µ–Ω–æ–∫ (—á–µ–∫–∞–ø–æ–≤)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ:
  - –°—Ç–∞—Ç—É—Å—É (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ, –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –±—Ä–æ—à–µ–Ω–æ)
  - –¢–∏–ø—É (checkup, parent, family)
- –ü–æ–∏—Å–∫ –ø–æ ID, –∏–º–µ–Ω–∏ –ø—Ä–æ—Ñ–∏–ª—è –∏–ª–∏ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π:
  - –¢–∏–ø –æ—Ü–µ–Ω–∫–∏
  - –ü—Ä–æ—Ñ–∏–ª—å (–¥–ª—è –∫–æ–≥–æ)
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∫—Ç–æ –ø—Ä–æ—Ö–æ–¥–∏–ª)
  - –°—Ç–∞—Ç—É—Å
  - –û–ø–ª–∞—á–µ–Ω–æ –ª–∏
  - –î–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### 4. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è–º–∏ (`/admin/appointments`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –ü–æ–∏—Å–∫ –ø–æ email –∏–ª–∏ –∏–º–µ–Ω–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:
  - –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ
  - –í –ø—Ä–æ—Ü–µ—Å—Å–µ
  - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
  - –û—Ç–º–µ–Ω–µ–Ω–æ
  - No-show
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π:
  - –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è
  - –¢–∏–ø –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
  - –ü—Ä–æ—Ñ–∏–ª—å (–¥–ª—è –∫–æ–≥–æ)

### 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏ (`/admin/payments`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –ü–æ–∏—Å–∫ –ø–æ ID, email –∏–ª–∏ –≤–Ω–µ—à–Ω–µ–º—É ID –ø–ª–∞—Ç–µ–∂–∞
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
  - –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞
  - –í—ã—Ä—É—á–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
  - –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
- –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π:
  - –°—É–º–º–∞ –∏ –≤–∞–ª—é—Ç–∞
  - –ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã
  - –°—Ç–∞—Ç—É—Å
  - –í–Ω–µ—à–Ω–∏–π ID (–ÆKassa, Stripe –∏ —Ç.–¥.)

### 6. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º (`/admin/content`)

**–¢–∏–ø—ã –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –ù–∞–∑–≤–∞–Ω–∏–µ
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã)
  - –¶–µ–Ω–∞
  - –û–ø–∏—Å–∞–Ω–∏–µ
  - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–≤–∫–ª/–≤—ã–∫–ª)

**–ü–∞–∫–µ—Ç—ã:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –ù–∞–∑–≤–∞–Ω–∏–µ
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ—Å—Å–∏–π
  - –¶–µ–Ω–∞
  - –û–ø–∏—Å–∞–Ω–∏–µ
  - –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–≤–∫–ª/–≤—ã–∫–ª)

### 7. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (`/admin/support`)

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ email –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω—É
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ:
  - –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (email, —Ç–µ–ª–µ—Ñ–æ–Ω, —Ä–µ–≥–∏–æ–Ω, —Ä–æ–ª—å)
  - –ü—Ä–æ—Ñ–∏–ª–∏ —Å–µ–º—å–∏
  - –ò—Å—Ç–æ—Ä–∏—è –æ—Ü–µ–Ω–æ–∫
  - –ò—Å—Ç–æ—Ä–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π

---

## –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥—É–∫—Ç–∞

### –ú–µ—Ç—Ä–∏–∫–∏, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –°–ï–ô–ß–ê–° (–∏–∑ –ë–î)

–í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –ù–æ–≤—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞ –ø–µ—Ä–∏–æ–¥
   - –ê–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (—Ç–µ, –∫—Ç–æ —Å–æ–∑–¥–∞–ª –æ—Ü–µ–Ω–∫—É –∏–ª–∏ –∑–∞–ø–∏—Å–∞–ª—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é)
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
   - –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥

2. **–ü—Ä–æ—Ñ–∏–ª–∏:**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º (child, parent, partner –∏ —Ç.–¥.)
   - –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä —Å–µ–º—å–∏
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–µ—Ç–µ–π –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–º

3. **–û—Ü–µ–Ω–∫–∏:**
   - –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞—á–∞—Ç—ã—Ö
   - –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ (–ø–æ —Ç–∏–ø–∞–º)
   - –ë—Ä–æ—à–µ–Ω–Ω—ã–µ
   - –ö–æ–Ω–≤–µ—Ä—Å–∏—è
   - –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
   - –û–ø–ª–∞—á–µ–Ω–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ worry_tags

4. **–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:**
   - –ü–æ —Å—Ç–∞—Ç—É—Å–∞–º (–∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ, –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –æ—Ç–º–µ–Ω–µ–Ω–æ, no-show)
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º
   - –ó–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤

5. **–ü–ª–∞—Ç–µ–∂–∏:**
   - –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞
   - –í—ã—Ä—É—á–∫–∞ –∑–∞ –ø–µ—Ä–∏–æ–¥
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å–ø–µ—à–Ω—ã—Ö/–Ω–µ—É–¥–∞—á–Ω—ã—Ö
   - –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –º–µ—Ç–æ–¥–∞–º –æ–ø–ª–∞—Ç—ã

6. **–ü–∞–∫–µ—Ç—ã:**
   - –ü—Ä–æ–¥–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏
   - –û—Å—Ç–∞–≤—à–∏–µ—Å—è —Å–µ—Å—Å–∏–∏

### –ú–µ—Ç—Ä–∏–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–æ–∫–∞ –ù–ï–¢)

–≠—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ —Ç—Ä–µ–±—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏–π:

- –°–æ–±—ã—Ç–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∫–ª–∏–∫–∏, –ø—Ä–æ—Å–º–æ—Ç—Ä—ã —Å—Ç—Ä–∞–Ω–∏—Ü)
- –í—Ä–µ–º—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ü—É—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (user journey)
- –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏)
- A/B —Ç–µ—Å—Ç—ã
- –û—Ç–∫–∞–∑—ã (bounce rate)
- –ò—Å—Ç–æ—á–Ω–∏–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ –±—Ä–∞—É–∑–µ—Ä—ã

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### RLS (Row Level Security) –ø–æ–ª–∏—Ç–∏–∫–∏

–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç RLS –ø–æ–ª–∏—Ç–∏–∫–∏ Supabase –¥–ª—è –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö:

1. **–§—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:**
   - `is_admin()` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–æ–º –∏–ª–∏ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–º
   - `is_staff()` ‚Äî –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–º (support, admin, super_admin)

2. **–ü–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤:**
   - –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç **SELECT** –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
   - –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç **UPDATE** –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã (—Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏)
   - –ê–¥–º–∏–Ω—ã –º–æ–≥—É—Ç **DELETE** –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–∞–±–ª–∏—Ü—ã (–ø—Ä–æ—Ñ–∏–ª–∏)

3. **–ó–∞—â–∏—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤:**
   - `AdminProtectedRoute` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –∏ —Ä–æ–ª—å
   - –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/admin/login` –µ—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

4. **–û—Ç–¥–µ–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è:**
   - –ê–¥–º–∏–Ω—Å–∫–∞—è —Å–µ—Å—Å–∏—è –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç—Å—è —Å –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π
   - –í—ã—Ö–æ–¥ –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —Å–µ—Å—Å–∏—é

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏** –¥–ª—è –∞–¥–º–∏–Ω-–∞–∫–∫–∞—É–Ω—Ç–æ–≤
2. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–¥–º–∏–Ω–æ–≤** ‚Äî —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ª—é–¥–∏
3. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏** –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
4. **–ù–µ –¥–µ–ª–∏—Ç–µ—Å—å –∞–¥–º–∏–Ω-—É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏** —Å –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã–º–∏ –ª—é–¥—å–º–∏
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ 2FA** (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ Supabase)

---

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. **–°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** –≤ `src/pages/admin/`:
   ```tsx
   // src/pages/admin/NewPage.tsx
   export default function NewPage() {
     return <div>–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</div>;
   }
   ```

2. **–î–æ–±–∞–≤—å—Ç–µ –º–∞—Ä—à—Ä—É—Ç** –≤ `src/App.tsx`:
   ```tsx
   const NewPage = lazy(() => import("./pages/admin/NewPage"));
   
   // –í Routes:
   <Route path="new-page" element={<NewPage />} />
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é** `src/components/admin/AdminSidebar.tsx`:
   ```tsx
   { name: '–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞', href: '/admin/new-page', icon: IconName },
   ```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ö—É–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ –≤ `src/hooks/admin/`:

```tsx
// src/hooks/admin/useAdminData.ts
import { useQuery } from '@tanstack/react-query';
import { supabase } from '@/lib/supabase';

export function useAdminData() {
  return useQuery({
    queryKey: ['admin-data'],
    queryFn: async () => {
      const { data, error } = await supabase
        .from('table_name')
        .select('*');
      
      if (error) throw error;
      return data;
    },
  });
}
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–µ—Ç—Ä–∏–∫–∏

1. **–î–æ–±–∞–≤—å—Ç–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** `src/lib/admin/metrics.ts`:
   ```tsx
   export interface Metrics {
     // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
     newMetric: {
       value: number;
     };
   }
   ```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é —Ä–∞—Å—á–µ—Ç–∞**:
   ```tsx
   async function getNewMetric() {
     // –õ–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
     return { value: 123 };
   }
   ```

3. **–î–æ–±–∞–≤—å—Ç–µ –≤ `getMetrics`**:
   ```tsx
   const newMetric = await getNewMetric();
   
   return {
     // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
     newMetric,
   };
   ```

4. **–û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ –Ω–∞ –¥—ç—à–±–æ—Ä–¥–µ** –≤ `AdminDashboard.tsx`

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏:

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞** –≤ –ë–î
2. **–í–æ–π–¥–∏—Ç–µ** –Ω–∞ `/admin/login`
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–∏–ª—å—Ç—Ä—ã** –∏ –ø–æ–∏—Å–∫
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö

---

## –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤–æ–≥–æ –∞–¥–º–∏–Ω–∞?

```sql
-- 1. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Supabase Auth (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ)
-- 2. –û–±–Ω–æ–≤–∏—Ç–µ —Ä–æ–ª—å:
UPDATE public.users 
SET role = 'admin' 
WHERE email = 'admin@example.com';
```

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?

1. –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å: `/admin/users` ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –ò–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å
2. –ù–∞–ø—Ä—è–º—É—é –≤ –ë–î:
   ```sql
   UPDATE public.users 
   SET role = 'support' 
   WHERE email = 'user@example.com';
   ```

### –ü–æ—á–µ–º—É —è –Ω–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å?

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
1. –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `support`, `admin` –∏–ª–∏ `super_admin`)
2. –ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email –∏ –ø–∞—Ä–æ–ª—è
3. –ß—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –º–µ—Ç—Ä–∏–∫—É?

–°–º. —Ä–∞–∑–¥–µ–ª [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –º–µ—Ç—Ä–∏–∫–∏](#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤–æ–π-–º–µ—Ç—Ä–∏–∫–∏)

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é?

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/components/admin/AdminSidebar.tsx`

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Supabase
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

## Changelog

### –í–µ—Ä—Å–∏—è 1.0.0 (–¢–µ–∫—É—â–∞—è)

- ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –î—ç—à–±–æ—Ä–¥ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–∫–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024

