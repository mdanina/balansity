# ðŸ” ÐšÐ°Ðº Ð½Ð°Ð¹Ñ‚Ð¸ Supabase Ð½Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ð½Ð¾Ð¼ ÑÐµÑ€Ð²ÐµÑ€Ðµ

## ðŸ“‚ Ð“Ð´Ðµ Ð¸ÑÐºÐ°Ñ‚ÑŒ

Ð¡ÑƒÐ´Ñ Ð¿Ð¾ Ð²Ð°ÑˆÐµÐ¼Ñƒ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð¼Ñƒ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ñƒ, Ð½Ð°Ñ‡Ð½Ð¸Ñ‚Ðµ Ð¿Ð¾Ð¸ÑÐº Ð² ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… Ð¿Ð°Ð¿ÐºÐ°Ñ…:

### 1. `/opt/` (ÑÐ°Ð¼Ð¾Ðµ Ð²ÐµÑ€Ð¾ÑÑ‚Ð½Ð¾Ðµ Ð¼ÐµÑÑ‚Ð¾)

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ `/opt/` - Ñ‚Ð°Ð¼ Ñ‡Ð°ÑÑ‚Ð¾ ÑƒÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÑŽÑ‚ÑÑ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ:
- `/opt/supabase/`
- `/opt/supabase-stack/`

### 2. `/home/` (Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸)

ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¿Ð°Ð¿ÐºÐ¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹:
- `/home/Ð²Ð°Ñˆ-Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ/supabase/`
- `/home/Ð²Ð°Ñˆ-Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ/supabase-stack/`

### 3. `/var/www/` (Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ)

Ð•ÑÐ»Ð¸ Supabase ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ ÐºÐ°Ðº Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ:
- `/var/www/supabase/`

### 4. `/root/` (ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð¾Ñ‚ root)

- `/root/supabase/`

## ðŸ”Ž Ð§Ñ‚Ð¾ Ð¸ÑÐºÐ°Ñ‚ÑŒ

Ð˜Ñ‰Ð¸Ñ‚Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ñ‹/Ð¿Ð°Ð¿ÐºÐ¸:

1. **docker-compose.yml** - Ð³Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
2. **.env** - Ñ„Ð°Ð¹Ð» Ñ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ð¼Ð¸ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ
3. **config.toml** - ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¾Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Supabase CLI
4. ÐŸÐ°Ð¿ÐºÑƒ Ñ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ð¼ "supabase"

## ðŸ“ ÐŸÐ¾ÑˆÐ°Ð³Ð¾Ð²Ð°Ñ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ

### Ð¨Ð°Ð³ 1: ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ `/opt/`

Ð’ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð¼ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ðµ:
1. Ð”Ð²Ð°Ð¶Ð´Ñ‹ ÐºÐ»Ð¸ÐºÐ½Ð¸Ñ‚Ðµ Ð½Ð° Ð¿Ð°Ð¿ÐºÑƒ `opt` (Ð¾Ð½Ð° Ð²Ð¸Ð´Ð½Ð° Ð² ÑÐ¿Ð¸ÑÐºÐµ)
2. Ð˜Ñ‰Ð¸Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ Ñ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÐµÐ¼ `supabase` Ð¸Ð»Ð¸ `supabase-stack`

### Ð¨Ð°Ð³ 2: Ð•ÑÐ»Ð¸ Ð½Ðµ Ð½Ð°ÑˆÐ»Ð¸ Ð² `/opt/`, Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ `/home/`

1. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ `home`
2. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
3. Ð˜Ñ‰Ð¸Ñ‚Ðµ Ñ‚Ð°Ð¼ Ð¿Ð°Ð¿ÐºÑƒ `supabase`

### Ð¨Ð°Ð³ 3: ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÐºÐ¾Ñ€Ð½ÐµÐ²ÑƒÑŽ Ð¿Ð°Ð¿ÐºÑƒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

Ð•ÑÐ»Ð¸ Supabase ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½ Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ð²Ð°ÑˆÐ¸Ð¼ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð¼:
1. ÐÐ°Ð¹Ð´Ð¸Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð° (Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ Ð² `/home/` Ð¸Ð»Ð¸ `/var/www/`)
2. Ð˜Ñ‰Ð¸Ñ‚Ðµ Ñ‚Ð°Ð¼ Ð¿Ð°Ð¿ÐºÑƒ `supabase` Ð¸Ð»Ð¸ Ñ„Ð°Ð¹Ð» `docker-compose.yml`

## ðŸŽ¯ Ð§Ñ‚Ð¾ Ð´ÐµÐ»Ð°Ñ‚ÑŒ Ð¿Ð¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð½Ð°Ð¹Ð´ÐµÑ‚Ðµ

ÐšÐ¾Ð³Ð´Ð° Ð½Ð°Ð¹Ð´ÐµÑ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ Ñ Supabase:

1. **ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð¿Ð°Ð¿ÐºÑƒ** Ð² Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð¼ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ðµ
2. **Ð˜Ñ‰Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `.env`** Ð¸Ð»Ð¸ `docker-compose.yml`
3. **Ð•ÑÐ»Ð¸ ÐµÑÑ‚ÑŒ `.env`** - Ð¾Ñ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ ÐµÐ³Ð¾ Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ:
   ```
   GOTRUE_MAILER_AUTOCONFIRM=true
   GOTRUE_SITE_URL=https://Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.com
   ```
4. **Ð•ÑÐ»Ð¸ Ð½ÐµÑ‚ `.env`**, Ð½Ð¾ ÐµÑÑ‚ÑŒ `docker-compose.yml`:
   - Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ñ„Ð°Ð¹Ð» `.env` Ð² Ñ‚Ð¾Ð¹ Ð¶Ðµ Ð¿Ð°Ð¿ÐºÐµ
   - Ð˜Ð»Ð¸ Ð¾Ñ‚Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ `docker-compose.yml` (ÑÐ¼. Ð½Ð¸Ð¶Ðµ)

## ðŸ”§ Ð•ÑÐ»Ð¸ Ð½Ð°ÑˆÐ»Ð¸ docker-compose.yml

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `docker-compose.yml` Ð¸ Ð½Ð°Ð¹Ð´Ð¸Ñ‚Ðµ ÑÐµÐºÑ†Ð¸ÑŽ `auth`:

```yaml
services:
  auth:
    environment:
      # Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¸Ð»Ð¸ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚Ðµ ÑÑ‚Ð¸ ÑÑ‚Ñ€Ð¾ÐºÐ¸:
      GOTRUE_MAILER_AUTOCONFIRM: "true"
      GOTRUE_SITE_URL: "https://Ð²Ð°Ñˆ-Ð´Ð¾Ð¼ÐµÐ½.com"
```

Ð˜Ð»Ð¸ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð° `.env`:

```yaml
services:
  auth:
    env_file:
      - .env
```

## âœ… ÐŸÐ¾ÑÐ»Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸

ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Supabase:

```bash
# Ð•ÑÐ»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ docker-compose
cd /opt/supabase  # Ð¸Ð»Ð¸ Ð³Ð´Ðµ Ð½Ð°ÑˆÐ»Ð¸
docker-compose restart auth
```

## ðŸ†˜ Ð•ÑÐ»Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð½Ð°Ð¹Ñ‚Ð¸

ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐ¹Ñ‚Ðµ Ð¿Ð¾Ð¸ÑÐº Ð¿Ð¾ Ð¸Ð¼ÐµÐ½Ð¸ Ñ„Ð°Ð¹Ð»Ð°:

1. Ð’ Ñ„Ð°Ð¹Ð»Ð¾Ð²Ð¾Ð¼ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¿Ð¾Ð¸ÑÐºÐ° (Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ctrl+F)
2. Ð˜Ñ‰Ð¸Ñ‚Ðµ: `docker-compose.yml` Ð¸Ð»Ð¸ `supabase`
3. Ð˜Ð»Ð¸ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð» Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ°:
   ```bash
   find / -name "docker-compose.yml" 2>/dev/null | grep -i supabase
   find / -type d -name "*supabase*" 2>/dev/null
   ```





